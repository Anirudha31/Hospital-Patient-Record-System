<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dashboard ‚Äî HPRS</title>
    <link rel="stylesheet" href="Style/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Bitcount+Grid+Single:wght@100..900&family=Bungee&family=Cinzel:wght@400..900&family=Creepster&family=Orbitron:wght@400..900&family=Permanent+Marker&family=Press+Start+2P&family=Shadows+Into+Light&family=Tourney:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
</head>

<body class="dashboard-body">

    <nav class="navbar">
        <div class="nav-left">
            <img class="logo-circle" src="src/img/logo.png" alt="Hospital Logo">
            <span class="brand" style="font-family:Tourney;font-size: 28px;">Hospital Patient Record System</span>
        </div>
        <div class="nav-right">
            <button id="darkModeToggle" class="btn small">üåô Dark</button>
            <button id="logoutBtn" class="btn small danger">Logout</button>
        </div>
    </nav>

    <main class="dashboard-container">
        
        <section class="card" style="grid-column: 1 / -1;">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalPatients">0</div>
                    <div class="stat-label">Total Patients</div>
                </div>
            </div>
        </section>

        
        <section class="card glass">
            <h2 style="font-family:Bitcount Grid Single;">Add Patient Record</h2>
            <div id="addPatientMsg" class="muted-sm" style="margin-bottom: 10px;"></div>
            <div class="form">
                <label>
                    Patient Name *
                    <input id="patientName" placeholder="Enter full name" required>
                </label>
                <div class="form-grid">
                    <label>
                        Age *
                        <input id="patientAge" placeholder="Age" type="number" min="0" max="150" required>
                    </label>
                    <label>
                        Phone
                        <input id="patientPhone" placeholder="Phone number" type="tel">
                    </label>
                </div>
                <label>
                    Disease / Symptoms *
                    <input id="patientDisease" placeholder="Enter disease or symptoms" required>
                </label>
                <label>
                    Email
                    <input id="patientEmail" placeholder="Email address (e.g., patient@gmail.com)" type="email">
                </label>
                <label>
                    Address
                    <input id="patientAddress" placeholder="Address">
                </label>
                <label>
                    Notes
                    <textarea id="patientNotes" placeholder="Additional notes about the patient"></textarea>
                </label>
                <button id="addPatientBtn" class="btn primary">Add Patient</button>
            </div>
        </section>

        
        <section class="card patient-list">
            <div class="list-header">
                <h2 style="font-family: Bitcount Grid Single;">All Patients</h2>
                <input id="searchPatient" class="search-bar" placeholder="üîç Search by name, disease, phone, or email...">
            </div>
            <ul id="patientList" style="font-family:Orbitron;"></ul>
        </section>
    </main>

    
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Patient Record</h3>
                <button class="modal-close" id="editModalClose">&times;</button>
            </div>
            <div class="form">
                <label>
                    Patient Name *
                    <input id="editPatientName" placeholder="Enter full name" required>
                </label>
                <div class="form-grid">
                    <label>
                        Age *
                        <input id="editPatientAge" placeholder="Age" type="number" min="0" max="150" required>
                    </label>
                    <label>
                        Phone
                        <input id="editPatientPhone" placeholder="Phone number" type="tel">
                    </label>
                </div>
                <label>
                    Disease / Symptoms *
                    <input id="editPatientDisease" placeholder="Enter disease or symptoms" required>
                </label>
                <label>
                    Email
                    <input id="editPatientEmail" placeholder="Email address" type="email">
                </label>
                <label>
                    Address
                    <input id="editPatientAddress" placeholder="Address">
                </label>
                <label>
                    Notes
                    <textarea id="editPatientNotes" placeholder="Additional notes about the patient"></textarea>
                </label>
                <div class="row-right">
                    <button class="btn" onclick="closeEditModal()">Cancel</button>
                    <button id="updatePatientBtn" class="btn primary">Update Patient</button>
                </div>
            </div>
        </div>
    </div>

    
    <div id="viewModal" class="modal">
        <div class="modal-content patient-details-modal">
            <div class="modal-header">
                <h3>Patient Details</h3>
                <button class="modal-close" id="viewModalClose">&times;</button>
            </div>
            <div class="patient-details-content">
                <div class="patient-details-header">
                    <h2 id="viewPatientName"></h2>
                </div>
                <table class="patient-details-table">
                    <tbody>
                        <tr>
                            <td class="table-label">Age</td>
                            <td class="table-value" id="viewPatientAge"></td>
                        </tr>
                        <tr>
                            <td class="table-label">Disease / Symptoms</td>
                            <td class="table-value" id="viewPatientDisease"></td>
                        </tr>
                        <tr>
                            <td class="table-label">Phone</td>
                            <td class="table-value" id="viewPatientPhone"></td>
                        </tr>
                        <tr>
                            <td class="table-label">Email</td>
                            <td class="table-value" id="viewPatientEmail"></td>
                        </tr>
                        <tr>
                            <td class="table-label">Address</td>
                            <td class="table-value" id="viewPatientAddress"></td>
                        </tr>
                        <tr>
                            <td class="table-label">Notes</td>
                            <td class="table-value table-value-notes" id="viewPatientNotes"></td>
                        </tr>
                    </tbody>
                </table>
                <div class="patient-details-footer">
                    <div class="patient-meta-info">
                        <div class="meta-item">
                            <span class="meta-label">Created:</span>
                            <span class="meta-value" id="viewPatientCreated"></span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Last Updated:</span>
                            <span class="meta-value" id="viewPatientUpdated"></span>
                        </div>
                    </div>
                </div>
                <div class="row-right" style="margin-top: 20px;">
                    <button class="btn" onclick="closeViewModal()">Close</button>
                </div>
            </div>
        </div>
    </div>

   
    <div id="deleteModalBackdrop" class="delete-modal-backdrop"></div>
    <div id="deleteModal" class="delete-modal">
        <div class="delete-modal-content">
            <div class="delete-modal-icon">‚ö†Ô∏è</div>
            <h3 class="delete-modal-title">Delete Patient Record</h3>
            <p class="delete-modal-message" id="deleteModalMessage">
                Are you sure you want to delete this patient record? This action cannot be undone.
            </p>
            <div class="delete-modal-actions">
                <button id="deleteModalCancel" class="delete-btn-cancel">Cancel</button>
                <button id="deleteModalConfirm" class="delete-btn-confirm">Delete</button>
            </div>
        </div>
    </div>

   
    <div id="toastBackdrop" class="toast-backdrop"></div>
    

    <div id="toastNotification" class="toast-notification">
        <div class="toast-content">
            <span class="toast-icon"></span>
            <span class="toast-message"></span>
            <button class="toast-close">&times;</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="js/app.js"></script>
    <script src="js/dashboard.js"></script>
</body>

</html>
